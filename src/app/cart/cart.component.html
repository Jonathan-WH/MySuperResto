<h2>Cart</h2>

<ion-button id="open-modal" size="small" 
[disabled]="((order$ | async) | totalCartPrice) <= 20"
[ngClass]="{'ion-hide': (order$ | async) ===null}"
fill="outline"
(click)="openModal()"
>
{{ (order$ | async )| totalCartPrice | currency:'CHF ':'symbol':'1.2-2' }} Order Now</ion-button>

<!-- <ion-modal #modal trigger="open-modal" [enterAnimation]="enterAnimation" [leaveAnimation]="leaveAnimation">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Modal</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="modal.dismiss()">Close</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      {{order$ | async | json}}
      <ion-list >
        <ion-item *ngFor="let item of order$ | async">
          <ion-avatar >
          <img [src]="item?.recipe?.imageUrl" alt=""></ion-avatar>
          <ion-label><p>{{item?.recipe?.title}} - {{(item?.recipe?.price || 0)  / 100 | currency:'CHF':'symbol-narrow':'1.2-2'}} (Qty: {{item.quantity}})</p></ion-label>
          <ion-button *ngIf="order$" (click)="removeFromCart(item?.recipe)">Remove Article</ion-button>
        </ion-item>
      </ion-list>
      <ion-button (click)="handleClick()">Order Now</ion-button>
    </ion-content>
  </ng-template>
</ion-modal> -->


  <ion-list [inset]="true">
    <ion-item *ngFor="let item of order$ | async">
      <ion-avatar >
      <img [src]="item?.recipe?.imageUrl" alt=""></ion-avatar>
      <ion-label><p>{{item?.recipe?.title}} - {{(item?.recipe?.price || 0)  / 100 | currency:'CHF':'symbol-narrow':'1.2-2'}} (Qty: {{item.quantity}})</p></ion-label>
      <ion-button *ngIf="order$" (click)="removeFromCart(item?.recipe)">Remove Article</ion-button>
    </ion-item>
  </ion-list>

<ion-button size="small" fill="outline" *ngIf="order$ | async as order" (click)="clearCart()">Clear Cart</ion-button>



